#### AWS 인프라 구축 및 운영

질문 - > **ip주소가 지속적으로 바뀌는 것은 로드밸런서로 대응한다.**



### 서버 환경설정의 영역

##### Project-A 웹사이트 띄우기

1. ec2 인스턴스, 태그와 보안그룹 설정하여 생성하기
2. nvm설치, 샘플프로젝트 다운, npm으로 의존성 설치, 루비 설치
3. 각종 간편한 명령어 사용을 위한 환경변수 설정
   - . 의 의미 세가지 ? 숨김, source, 확장명
   - passenger <- WAS,  nginx <- WS

4. nginx.conf  파일에 서버이름확장 설정, root, ipv4 주소변경, app.js 파일등록
5. 한 서버에서 여러 프로세스 동작시키려면 conf 파일 server 탭에 추가



점심 이후

#### 오토밸런싱 및 LB

1. 커스텀 AMI 생성, 시작 템플릿 만들기(CPU크기 변경가능), 오토밸런싱 그룹 생성 -> 목표 인스턴스 2개, 최소 1, 최대 2개  

   ```shell
   yum install -y stress
   ```

2. 대상그룹 설정, 목표 인스턴스 2개로 늘리기, 헬스체크 -> 2개의 인스턴스에 접속하여 

   ```shell
   tail -f access.log
   ```

   